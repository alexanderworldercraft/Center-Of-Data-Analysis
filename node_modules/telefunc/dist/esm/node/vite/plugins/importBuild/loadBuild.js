export { loadTelefuncFilesWithImportBuild };
export { setTelefuncLoaders };
import { config } from '../../../server/serverConfig';
import { getGlobalObject } from '../../utils';
import { assertManifest } from './assertManifest';
const globalObject = getGlobalObject('loadBuild.ts', {});
function setTelefuncLoaders({ loadTelefuncFiles, loadManifest, }) {
    globalObject.loadTelefuncFiles = loadTelefuncFiles;
    setServerConfig(loadManifest);
}
function setServerConfig(loadManifest) {
    const manifest = loadManifest();
    assertManifest(manifest);
    Object.assign(config, manifest.config);
}
async function loadTelefuncFilesWithImportBuild() {
    if (!globalObject.loadTelefuncFiles) {
        return null;
    }
    const moduleExports = await globalObject.loadTelefuncFiles();
    return moduleExports;
}
